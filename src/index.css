@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==== Google Fonts (hero serif) ==== */
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700;800;900&family=Cormorant+Garamond:wght@600;700&display=swap');

/* ===============================
   Base tokens
=================================*/
:root{
  --brand:#0ea5e9; /* sky-500 */
  --brand-2:#38bdf8;/* sky-400 */
  --ink:#0f172a;    /* slate-900 */
  --bg:#ffffff;
  --bg-dark:#0b1220;
  --hero-serif:'Playfair Display','Cormorant Garamond','Times New Roman',serif;

  --page-x: clamp(24px, 6vw, 72px);
}

/* util font */
.font-hero{ font-family: var(--hero-serif); }

/* Full-height app */
html, body, #root { height: 100%; }

/* Smooth scroll */
html{ scroll-behavior:smooth; }

/* Theme base */
body{ @apply text-slate-900 bg-white; }
.dark body{ @apply text-slate-100 bg-slate-950; }

/* Container gutters */
.container{
  margin-left: auto;
  margin-right: auto;
  padding-left: calc(var(--page-x) + env(safe-area-inset-left, 0px));
  padding-right: calc(var(--page-x) + env(safe-area-inset-right, 0px));
}

/* Prefer transform/opacity transitions only */
*{ -webkit-tap-highlight-color: transparent; }
img{ image-rendering: -webkit-optimize-contrast; }

/* Global transitions */
body, main, header, footer, nav, .card, .btn, input, select, textarea {
  transition-property: color, background-color, border-color, box-shadow, transform, opacity;
  transition-duration: .25s;
  transition-timing-function: ease;
}

/* Content-visibility perf */
.card, section, article { content-visibility:auto; }

/* ===============================
   Cards
=================================*/
.card{
  @apply rounded-2xl shadow-smooth bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800;
}

/* ===============================
   FORMS
=================================*/
input, select, textarea{ @apply bg-white text-slate-900 border border-slate-300 rounded-2xl px-3 py-2; }
.dark input, .dark select, .dark textarea{ @apply bg-slate-900 text-slate-100 border-slate-700; }
input::placeholder, textarea::placeholder{ @apply text-slate-400; }
.dark input::placeholder, .dark textarea::placeholder{ @apply text-slate-500; }

/* ===============================
   BUTTONS â†’ Glassy
=================================*/
.btn{
  @apply inline-flex items-center justify-center rounded-2xl font-medium;
  padding: .55rem 1rem;
  backdrop-filter: blur(8px);
  background: color-mix(in srgb, var(--bg) 45%, transparent);
  border: 1px solid rgba(2,6,23,.12);
  color: var(--ink);
  box-shadow: 0 6px 24px rgba(2,6,23,.06), 0 2px 8px rgba(2,6,23,.04);
  will-change: transform, opacity;
}
.btn:hover{ transform: translateY(-1px); }
.btn:active{ transform: translateY(0); }
.btn:disabled{ opacity:.5; cursor:not-allowed; }

.dark .btn{
  background: color-mix(in srgb, rgba(2,6,23,.85) 36%, transparent);
  border-color: rgba(148,163,184,.25);
  color: #e2e8f0;
}

/* Primary */
.btn-primary{
  color: var(--ink);
  background: color-mix(in srgb, var(--brand) 16%, var(--bg) 84%);
  border-color: color-mix(in srgb, var(--brand) 40%, rgba(2,6,23,.10));
}
.btn-primary:hover{ background: color-mix(in srgb, var(--brand) 22%, var(--bg) 78%); }
.dark .btn-primary{
  color:#fff;
  background: color-mix(in srgb, var(--brand) 26%, transparent);
  border-color: color-mix(in srgb, var(--brand) 50%, transparent);
}

/* Outline */
.btn-outline{
  background: color-mix(in srgb, var(--bg) 28%, transparent);
  border-color: rgba(2,6,23,.18);
  color: inherit;
}
.btn-outline:hover{ background: color-mix(in srgb, var(--bg) 36%, transparent); }
.dark .btn-outline{
  background: color-mix(in srgb, rgba(2,6,23,.92) 28%, transparent);
  border-color: rgba(148,163,184,.25);
  color: #e2e8f0;
}

/* Utility glass (hero) */
.glass{ background: color-mix(in srgb, var(--bg) 48%, transparent); }
.dark .glass{ background: color-mix(in srgb, rgba(2,6,23,.85) 34%, transparent); }
.grain .btn.glass{ background: color-mix(in srgb, var(--bg) 40%, transparent); }
.dark .grain .btn.glass{ background: color-mix(in srgb, rgba(2,6,23,.88) 32%, transparent); }

/* Fokus ring */
:focus-visible{ outline:2px solid var(--brand-2); outline-offset:3px; }

/* ===============================
   NProgress
=================================*/
#nprogress{ pointer-events:none; }
#nprogress .bar{
  background: linear-gradient(90deg, var(--brand), var(--brand-2)) !important;
  position: fixed; z-index: 2000; top:0; left:0; height:3px !important;
  will-change: width, opacity;
  transition: width .2s linear, opacity .2s ease;
}
#nprogress .peg{ box-shadow: none !important; }
#nprogress .spinner{ display:none !important; }

/* ===============================
   Scroll Progress
=================================*/
.scroll-progress{
  position: fixed; top: 3px; left:0; height: 3px; width: 0%;
  background: var(--brand, #0ea5e9);
  z-index: 1900;
}

/* ===============================
   Micro-effects
=================================*/
.hover-lift{ transform: translateY(0); }
.hover-lift:hover{ transform: translateY(-2px); }
.shadow-smooth{ box-shadow: 0 6px 30px rgba(2,6,23,.06), 0 2px 10px rgba(2,6,23,.04); }

/* Ken Burns */
@keyframes kenburns{ 0%{ transform: scale(1); } 100%{ transform: scale(1.08); } }
.kenburns{ animation: kenburns 9s ease-in-out both; }

/* Grain overlay helper */
.grain::after{
  content:""; position:absolute; inset:0; pointer-events:none;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' opacity='.05'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='2'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  mix-blend-mode:soft-light;
}

/* Flag emoji render tweak */
.flag-emoji{ font-family: "Apple Color Emoji","Segoe UI Emoji","Noto Color Emoji","Twemoji Mozilla",system-ui,sans-serif; }

/* Reduce flicker slider */
.hero-img{ will-change: opacity; backface-visibility:hidden; }

/* Page reveal */
:root.page-reveal body { opacity: 0; transition: opacity .35s ease; }
body { opacity: 1; }

/* ===============================
   Login background (light/dark)
=================================*/
.login-bg{
  background:
    radial-gradient(1200px 600px at 20% -10%, rgba(14,165,233,.22), transparent 60%),
    radial-gradient(900px 500px at 100% 0%, rgba(59,130,246,.18), transparent 60%),
    linear-gradient(180deg, #f8fbff 0%, #eaf2ff 100%);
}
.dark .login-bg{
  background:
    radial-gradient(1200px 600px at 20% -10%, rgba(14,165,233,.22), transparent 60%),
    radial-gradient(900px 500px at 100% 0%, rgba(59,130,246,.18), transparent 60%),
    linear-gradient(180deg, #0f172a 0%, #0b1220 100%);
}
